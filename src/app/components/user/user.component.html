<div class="userlist-page">
  <div class="d-flex justify-content-between align-items-start mb-4">
    <h3>{{ "side-bar.users" | translate }}</h3>
    <button class="btn btn-primary px-4">
      {{ "user.button.create" | translate }}
    </button>
  </div>
  <div class="users-list" *ngIf="users">
    <table class="table table-striped">
      <thead>
        <tr>
          <th>{{ "table.headers.id" | translate }}</th>
          <th>{{ "table.headers.avatar" | translate }}</th>
          <th>{{ "table.headers.first_name" | translate }}</th>
          <th>{{ "table.headers.last_name" | translate }}</th>
          <th>{{ "table.headers.email" | translate }}</th>
          <th>-</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let user of users">
          <td>{{ user.id }}</td>
          <td>
            <img
              width="40px"
              class="img-fluid rounded-circle"
              [src]="user.avatar"
            />
          </td>
          <td>{{ user.first_name }}</td>
          <td>{{ user.last_name }}</td>
          <td>{{ user.email }}</td>
          <td>
            <div class="dropdown">
              <button
                class="btn btn-light dropdown-toggle"
                type="button"
                data-bs-toggle="dropdown"
                aria-expanded="false"
              >
                Actions
              </button>
              <ul class="dropdown-menu dropdown-menu-end">
                <li>
                  <a class="dropdown-item" href="#">{{
                    "table.actions.update" | translate
                  }}</a>
                </li>
                <li>
                  <a class="dropdown-item" href="#">{{
                    "table.actions.delete" | translate
                  }}</a>
                </li>
              </ul>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
    <nav class="users-pagination d-flex justify-content-end">
      <ul class="nav nav-pills">
        <li>
          <button
            class="btn btn-secondary ms-2"
            [disabled]="currentPage === 1"
            (click)="getAllUsers(currentPage - 1)"
          >
            {{ "pagination.prev" | translate }}
          </button>
        </li>
        <li *ngFor="let page of [].constructor(totalPages); let i = index">
          <button
            [className]="
              currentPage == i + 1
                ? 'btn btn-dark ms-2'
                : 'btn btn-secondary ms-2'
            "
            (click)="getAllUsers(i + 1)"
          >
            {{ i + 1 }}
          </button>
        </li>
        <li>
          <button
            class="btn btn-secondary ms-2"
            [disabled]="currentPage === totalPages"
            (click)="getAllUsers(currentPage + 1)"
          >
            {{ "pagination.next" | translate }}
          </button>
        </li>
      </ul>
    </nav>
  </div>
</div>
